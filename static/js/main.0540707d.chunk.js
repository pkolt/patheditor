(this.webpackJsonppatheditor=this.webpackJsonppatheditor||[]).push([[0],{42:function(e,t,n){e.exports=n(90)},90:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),c=n.n(o),i=n(41),l=n(3),u=n.n(l),s=n(40),m=n(11),d=n(35),f=n.n(d),p=r.a.memo((function(e){var t=e.value,n=e.onChangeValue,a=e.onSubmit;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a()}},r.a.createElement("input",{className:"form-control",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u0443\u044e \u0442\u043e\u0447\u043a\u0443 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 Enter",value:t,onChange:function(e){return n(e.target.value)}}))})),b=n(16),g=function(e){var t=e.index,n=e.item,a=n.id,o=n.title,c=e.onClick,i=e.onRemove;return r.a.createElement(b.b,{draggableId:a,index:t},(function(e){return r.a.createElement("li",Object.assign({className:"list-group-item","data-testid":"list-item",ref:e.innerRef},e.draggableProps,e.dragHandleProps),r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement("a",{href:".",onClick:function(e){e.preventDefault(),c(a)}},o),r.a.createElement("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:function(){return i(a)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))}))};g=r.a.memo(g);var v=r.a.memo((function(e){var t=e.items,n=e.onClick,a=e.onRemove,o=e.onDragEnd;return r.a.createElement(b.a,{onDragEnd:o},r.a.createElement(b.c,{droppableId:"list"},(function(e){return r.a.createElement("ul",Object.assign({className:"list-group mt-2","data-testid":"list",ref:e.innerRef},e.droppableProps),t.map((function(e,t){return r.a.createElement(g,{key:e.id,index:t,item:e,onClick:n,onRemove:a})})),e.placeholder)})))})),E=n(10),h=r.a.memo((function(e){var t=e.centerPoint,n=e.items,a=e.onChangeItemPoint,o={center:t,zoom:10,controls:["zoomControl"]},c=n.map((function(e){return e.point}));return r.a.createElement(E.d,{query:{ns:"use-load-option",load:"Map,Placemark,control.ZoomControl,geoObject.addon.balloon"}},r.a.createElement(E.a,{state:o,width:"",height:600},n.map((function(e){return r.a.createElement(E.b,{key:e.id,defaultGeometry:e.point,options:{draggable:!0},properties:{balloonContentHeader:e.title},onDragEnd:function(t){var n=t.get("target").geometry.getCoordinates();a(e.id,n)}})})),r.a.createElement(E.c,{geometry:c,options:{balloonCloseButton:!1,strokeColor:"#ff0000",strokeWidth:2}})))})),j=function(e){var t,n,a,r;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,u.a.awrap(fetch("https://geocode-maps.yandex.ru/1.x/?apikey=".concat("b5ca0b9b-9f4b-4cbf-bcbf-f562a8297253","&results=1&format=json&geocode=").concat(e)));case 3:return t=o.sent,o.next=6,u.a.awrap(t.json());case 6:return n=o.sent,a=n.response.GeoObjectCollection.featureMember,r=a.map((function(e){return e.GeoObject.Point.pos.split(" ").map(parseFloat).reverse()})),o.abrupt("return",r[0]);case 12:o.prev=12,o.t0=o.catch(0),console.error(o.t0);case 15:case"end":return o.stop()}}),null,null,[[0,12]])},C=[55.75,37.57],O=function(){return localStorage.getItem("path-editor")&&JSON.parse(localStorage.getItem("path-editor"))},k=function(e){return localStorage.setItem("path-editor",JSON.stringify(e))};var x=function(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),l=Object(m.a)(c,2),d=l[0],b=l[1],g=Object(a.useState)(O()||[]),E=Object(m.a)(g,2),x=E[0],y=E[1],w=Object(a.useMemo)((function(){var e=x.filter((function(e){return e.id===d}))[0],t=x[0];return e&&e.point||t&&t.point||C}),[x,d]);Object(a.useEffect)((function(){k(x)}),[x]);var N=Object(a.useCallback)((function(e){y((function(t){return t.filter((function(t){return t.id!==e}))}))}),[]),S=Object(a.useCallback)((function(e){o(e)}),[]),P=Object(a.useCallback)((function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,u.a.awrap(j(n));case 3:(e=t.sent)&&(y((function(t){return[].concat(Object(s.a)(t),[{id:f()(),title:n,point:e}])})),o(""));case 5:case"end":return t.stop()}}))}),[n]),I=Object(a.useCallback)((function(e,t){y((function(n){return n.map((function(n){return n.id===e?Object(i.a)({},n,{point:t}):n}))}))}),[]),D=Object(a.useCallback)((function(e){return b(e)}),[]),R=Object(a.useCallback)((function(e){e.destination&&e.destination.index!==e.source.index&&y((function(t){return function(e,t,n){var a=Array.from(e),r=a.splice(t,1),o=Object(m.a)(r,1)[0];return a.splice(n,0,o),a}(t,e.source.index,e.destination.index)}))}),[]);return r.a.createElement("div",{className:"container mt-5","data-testid":"app"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(p,{value:n,onChangeValue:S,onSubmit:P}),r.a.createElement(v,{items:x,onRemove:N,onClick:D,onDragEnd:R})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(h,{centerPoint:w,items:x,onChangeItemPoint:I}))))};n(88),n(89);c.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.0540707d.chunk.js.map