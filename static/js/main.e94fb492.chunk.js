(this.webpackJsonppatheditor=this.webpackJsonppatheditor||[]).push([[0],{19:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(5),c=n.n(r),l=n(1),s=n.n(l),u=n(7),i=n(3),m=n(6),f=n.n(m),p=function(e){var t=e.value,n=e.onChange,a=e.onSubmit;return o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a()}},o.a.createElement("input",{className:"form-control",type:"text",placeholder:"\u041d\u043e\u0432\u0430\u044f \u0442\u043e\u0447\u043a\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430",value:t,onChange:function(e){return n(e.target.value)}}))};p.defaultProps={value:"",onChange:function(){},onSubmit:function(){}};var b=o.a.memo(p),d=o.a.memo((function(e){var t=e.title,n=e.onRemove;return o.a.createElement("li",{className:"list-group-item"},o.a.createElement("div",{className:"d-flex w-100 justify-content-between"},o.a.createElement("span",null,t),o.a.createElement("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:n},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))})),v=function(e){var t=e.items,n=e.onRemove;return o.a.createElement("ul",{className:"list-group mt-2"},t.map((function(e){return o.a.createElement(d,{key:e.id,title:e.title,onRemove:function(){return n(e.id)}})})))};v.defaultProps={items:[],onRemove:function(){}};var E=o.a.memo(v),g=n(2),h=function(e){var t=e.items,n={center:t[0]&&t[0].point||[55.75,37.57],zoom:10,controls:["zoomControl"]},a=t.map((function(e){return e.point}));return o.a.createElement(g.d,{query:{ns:"use-load-option",load:"Map,Placemark,control.ZoomControl,geoObject.addon.balloon"}},o.a.createElement(g.a,{state:n,width:"",height:600},t.map((function(e){return o.a.createElement(g.b,{key:e.id,defaultGeometry:e.point,properties:{balloonContentBody:e.title}})})),o.a.createElement(g.c,{geometry:a,options:{balloonCloseButton:!1,strokeColor:"#ff0000",strokeWidth:2}})))};h.defaultProps={items:[]};var j=o.a.memo(h),y=function(e){var t,n,a,o;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.a.awrap(fetch("https://geocode-maps.yandex.ru/1.x/?apikey=".concat("b5ca0b9b-9f4b-4cbf-bcbf-f562a8297253","&results=1&format=json&geocode=").concat(e)));case 3:return t=r.sent,r.next=6,s.a.awrap(t.json());case 6:return n=r.sent,a=n.response.GeoObjectCollection.featureMember,o=a.map((function(e){return e.GeoObject.Point.pos.split(" ").map(parseFloat).reverse()})),r.abrupt("return",o[0]);case 12:r.prev=12,r.t0=r.catch(0),console.error(r.t0);case 15:case"end":return r.stop()}}),null,null,[[0,12]])};var C=function(){var e="path-editor",t=Object(a.useState)((function(){return localStorage.getItem(e)&&JSON.parse(localStorage.getItem(e))||[]})),n=Object(i.a)(t,2),r=n[0],c=n[1],l=Object(a.useState)(""),m=Object(i.a)(l,2),p=m[0],d=m[1];Object(a.useEffect)((function(){!function(t){localStorage.setItem(e,JSON.stringify(t))}(r)}),[r]);var v=Object(a.useCallback)((function(e){c(r.filter((function(t){return t.id!==e})))}),[r]),g=Object(a.useCallback)(d,[p]),h=Object(a.useCallback)((function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p){t.next=5;break}return t.next=3,s.a.awrap(y(p));case 3:(e=t.sent)&&(c((function(t){return[{id:f()(),title:p,point:e}].concat(Object(u.a)(t))})),d(""));case 5:case"end":return t.stop()}}))}),[p]);return o.a.createElement("div",{className:"container mt-5"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm"},o.a.createElement(b,{value:p,onChange:g,onSubmit:h}),o.a.createElement(E,{items:r,onRemove:v})),o.a.createElement("div",{className:"col-sm"},o.a.createElement(j,{items:r}))))};n(17),n(18);c.a.render(o.a.createElement(C,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(19)}},[[8,1,2]]]);
//# sourceMappingURL=main.e94fb492.chunk.js.map